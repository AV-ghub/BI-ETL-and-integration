# –î–≤–∞ –ø–æ–¥—Ö–æ–¥–∞ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∏–¥–µ–æ–ª–æ–≥–∏–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ–º–æ—Å—Ç–∏.

## üèóÔ∏è 1. –ï–¥–∏–Ω–∞—è –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –≤–∏—Ç—Ä–∏–Ω–∞ ("—à–∏—Ä–æ–∫–∞—è —Ç–∞–±–ª–∏—Ü–∞")

**–°—É—Ç—å –ø–æ–¥—Ö–æ–¥–∞:** –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ –æ–¥–Ω—É –±–æ–ª—å—à—É—é —Ç–∞–±–ª–∏—Ü—É –≤ ClickHouse, –≥–¥–µ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ç–∞–∫ –∏ **–≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏** –≤ –≤–∏–¥–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–ª–æ–Ω–æ–∫ –∏–ª–∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Nested` –∏–ª–∏ `Array`).

*   **–ü—Ä–∏–º–µ—Ä:** –¢–∞–±–ª–∏—Ü–∞ `main_dashboard_wide` —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏: `date`, `user_id`, `main_metric`, `external_param_1_value`, `external_param_2_value`, `external_param_1_name`, `external_param_2_name`, –∏ —Ç.–¥.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
*   **‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:** Superset –±—É–¥–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å —á–∞—Ä—Ç—ã, –≤—ã–ø–æ–ª–Ω—è—è –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å `GROUP BY` –∏ `WHERE` –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã. –≠—Ç–æ –±—ã—Å—Ç—Ä–æ, —Ç–∞–∫ –∫–∞–∫ ClickHouse –æ—Ç–ª–∏—á–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ç–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏.
*   **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Superset:** –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ –æ–¥–∏–Ω –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞ —ç—Ç—É –≤–∏—Ç—Ä–∏–Ω—É. –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ UI –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–∏—Å–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ SQL –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Jinja2.
*   **–ò–¥–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** ClickHouse —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ–≥—Ä–æ–º–Ω—ã—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –∏ –∞–≥—Ä–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π. –≠—Ç–æ –µ–≥–æ —Å–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞.

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
*   **–°–ª–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–Ω–µ—à–Ω–µ–≥–æ –ø—Ä–∏–∑–Ω–∞–∫–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü—ã –∏ –ø–µ—Ä–µ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
*   **–í–æ–∑–º–æ–∂–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:** –ï—Å–ª–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ —á–∞—Å—Ç–æ NULL –∏–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è, –º–æ–∂–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –Ω–∞–ø—Ä–∞—Å–Ω–æ–µ —Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞.
*   **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:** –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ª–∏–º–∏—Ç –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ (—Ö–æ—Ç—è –≤ ClickHouse –æ–Ω –æ—á–µ–Ω—å –≤—ã—Å–æ–∫).

## üîó 2. –ù–µ—Å–∫–æ–ª—å–∫–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –≤–∏—Ç—Ä–∏–Ω —Å –ø–æ–¥–∑–∞–ø—Ä–æ—Å–∞–º–∏

**–°—É—Ç—å –ø–æ–¥—Ö–æ–¥–∞:** –í—ã —Å–æ–∑–¥–∞–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏—Ç—Ä–∏–Ω –≤ ClickHouse:
1.  **–û—Å–Ω–æ–≤–Ω–∞—è –≤–∏—Ç—Ä–∏–Ω–∞** (`main_metrics`) —Å –∫–ª—é—á–µ–≤—ã–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏.
2.  **–ù–∞–±–æ—Ä —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –≤–∏—Ç—Ä–∏–Ω** (`external_params_1`, `external_params_2`), —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –ø–æ –≤–Ω–µ—à–Ω–∏–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º, —Å–≤—è–∑–∞–Ω–Ω—ã–º –ø–æ –∫–ª—é—á—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, `user_id` –∏–ª–∏ `date`).

–í Superset –≤—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç–µ –ª–æ–≥–∏–∫—É —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —á–∞—Ä—Ç–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–ª—Å—è –∑–∞–ø—Ä–æ—Å –∫ –ø–æ–¥—á–∏–Ω–µ–Ω–Ω–æ–π –≤–∏—Ç—Ä–∏–Ω–µ.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
*   **–ì–∏–±–∫–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã —Å –¥–∞–Ω–Ω—ã–º–∏, –Ω–µ —Ç—Ä–æ–≥–∞—è –æ—Å–Ω–æ–≤–Ω—É—é. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∂–¥–æ–π –≤–∏—Ç—Ä–∏–Ω—ã –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–π –∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –¥–ª—è —Å–≤–æ–µ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö.
*   **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:** –î–∞–Ω–Ω—ã –µ —Ö—Ä–∞–Ω—è—Ç—Å—è –±–µ–∑ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏.
*   **–ò–¥–µ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –±–ª–∏–∂–µ –∫ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º –ë–î:** –≠—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –ø—Ä–∏–≤—ã—á–µ–Ω –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ä–∞–±–æ—Ç–∞–ª —Å PostgreSQL –∏ –¥—Ä—É–≥–∏–º–∏ RDBMS.

**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
*   **‚ùå –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ Superset:** –≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞. Superset –ø–ª–æ—Ö–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –¥–∂–æ–π–Ω–∞–º–∏. –ö–∞–∂–¥—ã–π —á–∞—Ä—Ç, —Ç—Ä–µ–±—É—é—â–∏–π –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç—è–∂–µ–ª—ã–π SQL-–∑–∞–ø—Ä–æ—Å —Å `JOIN`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º –≤ ClickHouse –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª–≥–æ.
*   **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è:** –í–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Jinja2`-—à–∞–±–ª–æ–Ω—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —Å–≤—è–∑–∏ —á–∞—Ä—Ç–æ–≤. –≠—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏.
*   **–ü—Ä–æ–±–ª–µ–º—ã —Å –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π:** –ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–¥–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –ª–∏–±–æ –Ω–∞ –ª–µ—Ç—É (–º–µ–¥–ª–µ–Ω–Ω–æ), –ª–∏–±–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ, —á—Ç–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç ETL-–ø—Ä–æ—Ü–µ—Å—Å.

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ò–¥–µ–∞–ª—å–Ω—ã–π –∫–æ–º–ø—Ä–æ–º–∏—Å—Å ‚Äî —ç—Ç–æ **–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ** –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ü–µ–ª–∏ –¥–∞—à–±–æ—Ä–¥–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è ClickHouse —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**.

1.  **–°–æ–∑–¥–∞–π—Ç–µ –æ–¥–Ω—É —à–∏—Ä–æ–∫—É—é –≤–∏—Ç—Ä–∏–Ω—É, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö ClickHouse:**
    *   **`Nested` —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** –ï—Å–ª–∏ –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏–º–µ—é—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–ª—é—á–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø `Nested`. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Ö –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å.
    *   **`Array` –∏ `AggregateFunction`:** –î–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –∏–ª–∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∞–≥—Ä–µ–≥–∞—Ü–∏–∏.

2.  **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (Materialized Views) –≤ ClickHouse:** –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –¥–µ–ª–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–∏—Ç—Ä–∏–Ω –≤—Ä—É—á–Ω—É—é, –ø–æ—Ä—É—á–∏—Ç–µ ClickHouse —Å–∞–º–æ–º—É –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ pre-aggregate –¥–∞–Ω–Ω—ã–µ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤ –Ω—É–∂–Ω–æ–º –≤–∞–º —Ä–∞–∑—Ä–µ–∑–µ. Superset –±—É–¥–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —ç—Ç–æ–º—É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—é –∫–∞–∫ –∫ –æ–±—ã—á–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, —á—Ç–æ –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ.

3.  **–î–ª—è –æ—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã—Ö —Å–≤—è–∑–µ–π ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –≤–∏—Ç—Ä–∏–Ω—ã, –Ω–æ –±–µ–∑ –¥–∂–æ–π–Ω–æ–≤ –≤ Superset:** –ï—Å–ª–∏ –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –Ω–µ –æ–±–æ–π—Ç–∏—Å—å, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ Superset –Ω–µ –¥–∂–æ–π–Ω—ã, –∞ **–æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Ä—Ç—ã —Å –∫—Ä–æ—Å—Å-—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π**. –û—Å–Ω–æ–≤–Ω–æ–π —á–∞—Ä—Ç —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –∫–ª—é—á—É, –∞ –ø–æ–¥—á–∏–Ω–µ–Ω–Ω—ã–µ —á–∞—Ä—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ —Å–≤–æ–∏–º –≤–∏—Ç—Ä–∏–Ω–∞–º —Å —É—Å–ª–æ–≤–∏–µ–º `WHERE key = {selected_value}`. –≠—Ç–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–µ–µ, —á–µ–º –¥–∂–æ–π–Ω—ã.

## üöÄ –ò—Ç–æ–≥: –ß—Ç–æ –≤—ã–±—Ä–∞—Ç—å?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –ï–¥–∏–Ω–∞—è –≤–∏—Ç—Ä–∏–Ω–∞ | –ù–µ—Å–∫–æ–ª—å–∫–æ –≤–∏—Ç—Ä–∏–Ω |
| :--- | :--- | :--- |
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚ö° **–í—ã—Å–æ–∫–∞—è** (–ø—Ä–æ—Å—Ç–æ–π `GROUP BY`) | ‚ùå **–ù–∏–∑–∫–∞—è** (–º–µ–¥–ª–µ–Ω–Ω—ã–µ `JOIN`) |
| **–°–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ–º–æ—Å—Ç—å** | –°—Ä–µ–¥–Ω—è—è (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã) | –°–ª–æ–∂–Ω–∞—è (Jinja2, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã) |
| **–ì–∏–±–∫–æ—Å—Ç—å** | –ù–∏–∑–∫–∞—è | **–í—ã—Å–æ–∫–∞—è** |
| **–ò–¥–µ–æ–ª–æ–≥–∏—è –¥–ª—è CH** | **‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** | –ù–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ |

**–í–µ—Ä–¥–∏–∫—Ç:** –î–ª—è **ClickHouse** –∏ **Superset** –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º —è–≤–ª—è–µ—Ç—Å—è **—Å–æ–∑–¥–∞–Ω–∏–µ –æ–¥–Ω–æ–π –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∏ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –≤–∏—Ç—Ä–∏–Ω—ã**, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω–æ–π –¥–ª—è –≤–∞—à–µ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞.

**–í–∞—à –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π:**
1.  –°–ø—Ä–æ–µ–∫—Ç–∏—Ä—É–π—Ç–µ –≤–∏—Ç—Ä–∏–Ω—É –≤ ClickHouse —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞–ª–∞ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è –∏ –º–µ—Ç—Ä–∏–∫–∏.
2.  –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã ClickHouse (Materialized Views, –∞–≥—Ä–µ–≥–∏—Ä—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏) –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –µ–µ –≤ –∞–∫—Ç—É–∞–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏.
3.  –í Superset —Å–æ–∑–¥–∞–π—Ç–µ –æ–¥–∏–Ω –¥–∞—Ç–∞—Å–µ—Ç –Ω–∞ —ç—Ç—É –≤–∏—Ç—Ä–∏–Ω—É.
4.  –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ —á–∞—Ä—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É—è –ø—Ä–æ—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –ø–æ–ª—è–º —ç—Ç–æ–π –≤–∏—Ç—Ä–∏–Ω—ã.

–≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –ø—Ä–æ—Å—Ç–æ—Ç—É —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¥–∞—à–±–æ—Ä–¥–∞.

[–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤ –≤ Superset / –•–∞–±—Ä](https://habr.com/ru/companies/gazprombank/articles/889408/)
[–õ–∞–π—Ñ—Ö–∞–∫–∏ BI SuperSet (—á–∞—Å—Ç—å 1) / –•–∞–±—Ä](https://habr.com/ru/articles/932938/)
[–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –¥–∞—à–±–æ—Ä–¥–æ–≤ –∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤](https://developers.sber.ru/docs/ru/sdp/sdpanalytics/recommendations)
[–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Apache Superset - DataFinder](https://datafinder.ru/products/rukovodstvo-po-apache-superset)
[–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](https://developers.sber.ru/docs/ru/sdp/sdpanalytics/basic-concepts)
[Apache Superset. –ü–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ BI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç](https://habr.com/ru/articles/681228/)
